
services:
  swarm-autoscaler: 
    image: rushpate/swarm-autoscaler:latest
    hostname: ${HOSTNAME} # for autoscaler node info resolution
    volumes:
      - /sys/fs/cgroup:/sys/fs/cgroup:ro # for metric montoring
      - /var/run/docker.sock:/var/run/docker.sock # for Docker API
      - ./config.yaml:/autoscaler/config.yaml:ro # for config
      - ./logging:/autoscaler/logging # (optional) for logfile
    cap_add:
      - SYS_ADMIN # for BPF priviledges
    network_mode: host # to detect host ports
